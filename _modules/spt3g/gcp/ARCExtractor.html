

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>spt3g.gcp.ARCExtractor &mdash; SPT-3G Software  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=0517cd0f" />

  
    <link rel="shortcut icon" href="../../../_static/spt_outlines_white.png"/>
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            SPT-3G Software
              <img src="../../../_static/spt_outlines.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">General Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../quickstart.html">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../quickstart.html#how-to-install">How to Install</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../quickstart.html#installing-dependencies-on-a-personal-system">Installing Dependencies on a Personal System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../quickstart.html#handling-dependencies-on-the-open-science-grid">Handling Dependencies on the Open Science Grid</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../quickstart.html#handling-dependencies-on-nersc">Handling Dependencies on NERSC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../quickstart.html#compilation">Compilation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../quickstart.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../quickstart.html#installation-with-pip">Installation with Pip</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../quickstart.html#overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../quickstart.html#frames">Frames</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../quickstart.html#id1">Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../quickstart.html#pipelines">Pipelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../quickstart.html#io">IO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../quickstart.html#frame-objects">Frame Objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../quickstart.html#units">Units</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../quickstart.html#debugging-code">Debugging Code</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules.html">Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../modules.html#writing-a-module-in-python">Writing a module in Python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../modules.html#python-modules-as-functions">Python Modules as Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../modules.html#return-values-from-python-modules">Return values from Python modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../modules.html#im-mutability-of-frame-objects">(Im)mutability of frame objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../modules.html#the-first-module">The first module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../modules.html#callable-objects-as-functions">Callable Objects as Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../modules.html#autodocumentation-of-modules">Autodocumentation of modules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../modules.html#writing-a-module-in-c">Writing a module in C++</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../modules.html#pipeline-segments">Pipeline Segments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../modules.html#advanced-techniques-buffering-data">Advanced Techniques: Buffering Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../modules.html#caching-previous-data">Caching Previous Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../modules.html#pipelines">Pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../modules.html#pipeline-add">Pipeline.Add</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../modules.html#pipeline-run">Pipeline.Run</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../modules.html#g3pipelineinfo">G3PipelineInfo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../frames.html">Frames</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../frames.html#scan">Scan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../frames.html#pipelineinfo">PipelineInfo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../frames.html#timepoint">Timepoint</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../frames.html#housekeeping">Housekeeping</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../frames.html#map">Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../frames.html#calibration">Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../frames.html#observation">Observation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../frames.html#wiring">Wiring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../frames.html#gcpslow">GcpSlow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../frames.html#endprocessing">EndProcessing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../logging.html">Logging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../logging.html#setting-log-levels">Setting Log Levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../logging.html#using-logging-from-python">Using Logging from Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../logging.html#using-logging-from-c">Using Logging from C++</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../fileio.html">File IO</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../fileio.html#g3reader">G3Reader</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../fileio.html#g3writer">G3Writer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../fileio.html#g3multifilewriter">G3MultiFileWriter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../fileio.html#g3file">G3File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../fileio.html#file-format">File Format</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../fileio.html#frame-structure-on-disk">Frame Structure on Disk</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../fileio.html#blobs">Blobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../fileio.html#miscellany">Miscellany</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../units.html">Units</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../units.html#defining-a-quantity-with-units">Defining a quantity with units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../units.html#converting-to-different-units">Converting to different units</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../units.html#available-units">Available units</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../dataacquisition.html">Data Acquisition</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../dataacquisition.html#dfmux">DfMux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../dataacquisition.html#bolometer-data">Bolometer Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../dataacquisition.html#sctp">SCTP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../dataacquisition.html#udp">UDP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../dataacquisition.html#legacy-boards">Legacy Boards</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../dataacquisition.html#data-structures">Data Structures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../dataacquisition.html#housekeeping-data">Housekeeping Data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../dataacquisition.html#building-timestreams">Building Timestreams</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../dataacquisition.html#the-wiring-map">The Wiring Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../dataacquisition.html#dfmuxcollator">DfMuxCollator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../dataacquisition.html#collecting-data-to-a-netcdf-file">Collecting data to a NetCDF file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../dataacquisition.html#core-tools">Core Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../dataacquisition.html#g3eventbuilder">G3EventBuilder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../dataacquisition.html#g3triggeredbuilder">G3TriggeredBuilder</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../dataacquisition.html#ledgerman">ledgerman</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../autodoc.html">Auto-documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../autodoc.html#getting-it-documented">Getting it documented</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../autodoc.html#viewing-the-docs">Viewing the docs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../buildsystem.html">Build System</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../buildsystem.html#cmake-overview">CMake Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../buildsystem.html#adding-a-project">Adding a Project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../buildsystem.html#adding-python-code">Adding Python code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../buildsystem.html#adding-a-c-library">Adding a C++ library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../buildsystem.html#adding-a-c-executable">Adding a C++ executable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../buildsystem.html#adding-tests">Adding tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../buildsystem.html#python-tests">Python Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../buildsystem.html#c-tests">C++ Tests</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../buildsystem.html#mixing-c-and-python">Mixing C++ and Python</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../styleguide.html">Style Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../styleguide.html#version-control-hygiene">Version Control Hygiene</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../styleguide.html#git">Git</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../styleguide.html#svn">SVN</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../styleguide.html#coding-style">Coding Style</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../styleguide.html#python-style-guide">Python Style Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../styleguide.html#c-style-guide">C++ Style Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../networkstreaming.html">Network Streaming</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../networkstreaming.html#g3networksender">G3NetworkSender</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../networkstreaming.html#connecting-to-a-remote-reader">Connecting to a Remote Reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../networkstreaming.html#functioning-as-a-streaming-server">Functioning as a Streaming Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../networkstreaming.html#throttling-output-data">Throttling output data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../networkstreaming.html#using-g3reader-over-the-network">Using G3Reader Over the Network</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../commonissues.html">Common Problems</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../commonissues.html#setting-values-of-a-flatskymap">Setting Values of a FlatSkyMap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../commonissues.html#error-message-decryption">Error Message Decryption</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../commonissues.html#argument-errors">Argument Errors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../commonissues.html#misbehaving-compilers">Misbehaving Compilers</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Module Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../moddoc_calibration.html">calibration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_calibration.html#api-documentation">API Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_calibration.html#frame-objects">Frame Objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.BolometerProperties"><code class="docutils literal notranslate"><span class="pre">BolometerProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.BolometerPropertiesMap"><code class="docutils literal notranslate"><span class="pre">BolometerPropertiesMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.PointingProperties"><code class="docutils literal notranslate"><span class="pre">PointingProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.PointingPropertiesMap"><code class="docutils literal notranslate"><span class="pre">PointingPropertiesMap</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_calibration.html#class-like-pipeline-modules">Class-like Pipeline Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.bolopropertiesutils.SplitByBand"><code class="docutils literal notranslate"><span class="pre">SplitByBand</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.bolopropertiesutils.SplitByPixelType"><code class="docutils literal notranslate"><span class="pre">SplitByPixelType</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.bolopropertiesutils.SplitByProperty"><code class="docutils literal notranslate"><span class="pre">SplitByProperty</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.bolopropertiesutils.SplitByWafer"><code class="docutils literal notranslate"><span class="pre">SplitByWafer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.bolopropertiesutils.SplitTimestreamsByBand"><code class="docutils literal notranslate"><span class="pre">SplitTimestreamsByBand</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.build_cal_frames.BuildBoloPropertiesMap"><code class="docutils literal notranslate"><span class="pre">BuildBoloPropertiesMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.build_cal_frames.BuildPointingProperties"><code class="docutils literal notranslate"><span class="pre">BuildPointingProperties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.build_cal_frames.MergeCalibrationFrames"><code class="docutils literal notranslate"><span class="pre">MergeCalibrationFrames</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_calibration.html#function-like-pipeline-modules">Function-like Pipeline Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.build_cal_frames.ExplodeBolometerProperties"><code class="docutils literal notranslate"><span class="pre">ExplodeBolometerProperties()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_calibration.html#useful-functions">Useful Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.bolopropertiesutils.band_to_string"><code class="docutils literal notranslate"><span class="pre">band_to_string()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.bolopropertiesutils.band_to_value"><code class="docutils literal notranslate"><span class="pre">band_to_value()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.bolopropertiesutils.extract_band_string"><code class="docutils literal notranslate"><span class="pre">extract_band_string()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.bolopropertiesutils.extract_band_value"><code class="docutils literal notranslate"><span class="pre">extract_band_value()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.bolopropertiesutils.get_band_units"><code class="docutils literal notranslate"><span class="pre">get_band_units()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_calibration.html#spt3g.calibration.bolopropertiesutils.set_band_format"><code class="docutils literal notranslate"><span class="pre">set_band_format()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../moddoc_core.html">core</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_core.html#api-documentation">API Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_core.html#frame-objects">Frame Objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3Bool"><code class="docutils literal notranslate"><span class="pre">G3Bool</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3Double"><code class="docutils literal notranslate"><span class="pre">G3Double</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3FrameObject"><code class="docutils literal notranslate"><span class="pre">G3FrameObject</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3Int"><code class="docutils literal notranslate"><span class="pre">G3Int</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MapDouble"><code class="docutils literal notranslate"><span class="pre">G3MapDouble</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MapFrameObject"><code class="docutils literal notranslate"><span class="pre">G3MapFrameObject</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MapInt"><code class="docutils literal notranslate"><span class="pre">G3MapInt</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MapMapDouble"><code class="docutils literal notranslate"><span class="pre">G3MapMapDouble</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MapQuat"><code class="docutils literal notranslate"><span class="pre">G3MapQuat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MapString"><code class="docutils literal notranslate"><span class="pre">G3MapString</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MapVectorBool"><code class="docutils literal notranslate"><span class="pre">G3MapVectorBool</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MapVectorComplexDouble"><code class="docutils literal notranslate"><span class="pre">G3MapVectorComplexDouble</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MapVectorDouble"><code class="docutils literal notranslate"><span class="pre">G3MapVectorDouble</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MapVectorInt"><code class="docutils literal notranslate"><span class="pre">G3MapVectorInt</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MapVectorQuat"><code class="docutils literal notranslate"><span class="pre">G3MapVectorQuat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MapVectorString"><code class="docutils literal notranslate"><span class="pre">G3MapVectorString</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MapVectorTime"><code class="docutils literal notranslate"><span class="pre">G3MapVectorTime</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MapVectorVectorString"><code class="docutils literal notranslate"><span class="pre">G3MapVectorVectorString</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3ModuleConfig"><code class="docutils literal notranslate"><span class="pre">G3ModuleConfig</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3PipelineInfo"><code class="docutils literal notranslate"><span class="pre">G3PipelineInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3Quat"><code class="docutils literal notranslate"><span class="pre">G3Quat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3String"><code class="docutils literal notranslate"><span class="pre">G3String</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3Time"><code class="docutils literal notranslate"><span class="pre">G3Time</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3TimesampleMap"><code class="docutils literal notranslate"><span class="pre">G3TimesampleMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3Timestream"><code class="docutils literal notranslate"><span class="pre">G3Timestream</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3TimestreamMap"><code class="docutils literal notranslate"><span class="pre">G3TimestreamMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3TimestreamQuat"><code class="docutils literal notranslate"><span class="pre">G3TimestreamQuat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3VectorBool"><code class="docutils literal notranslate"><span class="pre">G3VectorBool</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3VectorComplexDouble"><code class="docutils literal notranslate"><span class="pre">G3VectorComplexDouble</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3VectorDouble"><code class="docutils literal notranslate"><span class="pre">G3VectorDouble</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3VectorFrameObject"><code class="docutils literal notranslate"><span class="pre">G3VectorFrameObject</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3VectorInt"><code class="docutils literal notranslate"><span class="pre">G3VectorInt</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3VectorQuat"><code class="docutils literal notranslate"><span class="pre">G3VectorQuat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3VectorString"><code class="docutils literal notranslate"><span class="pre">G3VectorString</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3VectorTime"><code class="docutils literal notranslate"><span class="pre">G3VectorTime</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3VectorUnsignedChar"><code class="docutils literal notranslate"><span class="pre">G3VectorUnsignedChar</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3VectorVectorString"><code class="docutils literal notranslate"><span class="pre">G3VectorVectorString</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_core.html#class-like-pipeline-modules">Class-like Pipeline Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3EventBuilder"><code class="docutils literal notranslate"><span class="pre">G3EventBuilder</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3InfiniteSource"><code class="docutils literal notranslate"><span class="pre">G3InfiniteSource</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3Module"><code class="docutils literal notranslate"><span class="pre">G3Module</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MultiFileWriter"><code class="docutils literal notranslate"><span class="pre">G3MultiFileWriter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3NetworkSender"><code class="docutils literal notranslate"><span class="pre">G3NetworkSender</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3Reader"><code class="docutils literal notranslate"><span class="pre">G3Reader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3Writer"><code class="docutils literal notranslate"><span class="pre">G3Writer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.util.AbortAfterNFrames"><code class="docutils literal notranslate"><span class="pre">AbortAfterNFrames</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.util.DeduplicateMetadata"><code class="docutils literal notranslate"><span class="pre">DeduplicateMetadata</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.util.DropOrphanMetadata"><code class="docutils literal notranslate"><span class="pre">DropOrphanMetadata</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.util.G3ThrottledNetworkSender"><code class="docutils literal notranslate"><span class="pre">G3ThrottledNetworkSender</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.util.InjectFrame"><code class="docutils literal notranslate"><span class="pre">InjectFrame</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_core.html#function-like-pipeline-modules">Function-like Pipeline Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.util.Delete"><code class="docutils literal notranslate"><span class="pre">Delete()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.util.Dump"><code class="docutils literal notranslate"><span class="pre">Dump()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.util.InjectDebug"><code class="docutils literal notranslate"><span class="pre">InjectDebug()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.util.Rename"><code class="docutils literal notranslate"><span class="pre">Rename()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_core.html#pipeline-segments">Pipeline Segments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.util.G3NetworkReceiver"><code class="docutils literal notranslate"><span class="pre">G3NetworkReceiver()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_core.html#useful-classes">Useful Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.BoolVector"><code class="docutils literal notranslate"><span class="pre">BoolVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.ComplexDoubleVector"><code class="docutils literal notranslate"><span class="pre">ComplexDoubleVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.ComplexFloatVector"><code class="docutils literal notranslate"><span class="pre">ComplexFloatVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.DoubleVector"><code class="docutils literal notranslate"><span class="pre">DoubleVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.FloatVector"><code class="docutils literal notranslate"><span class="pre">FloatVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.FrameObjectVector"><code class="docutils literal notranslate"><span class="pre">FrameObjectVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.FrameTypeVector"><code class="docutils literal notranslate"><span class="pre">FrameTypeVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.FrameVector"><code class="docutils literal notranslate"><span class="pre">FrameVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3Frame"><code class="docutils literal notranslate"><span class="pre">G3Frame</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3Logger"><code class="docutils literal notranslate"><span class="pre">G3Logger</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3LoggerVector"><code class="docutils literal notranslate"><span class="pre">G3LoggerVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3MultiLogger"><code class="docutils literal notranslate"><span class="pre">G3MultiLogger</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3NullLogger"><code class="docutils literal notranslate"><span class="pre">G3NullLogger</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3Pipeline"><code class="docutils literal notranslate"><span class="pre">G3Pipeline</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3PrintfLogger"><code class="docutils literal notranslate"><span class="pre">G3PrintfLogger</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3SyslogLogger"><code class="docutils literal notranslate"><span class="pre">G3SyslogLogger</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3TimeVector"><code class="docutils literal notranslate"><span class="pre">G3TimeVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.G3VectorStringVector"><code class="docutils literal notranslate"><span class="pre">G3VectorStringVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.Int64Vector"><code class="docutils literal notranslate"><span class="pre">Int64Vector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.IntVector"><code class="docutils literal notranslate"><span class="pre">IntVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.ModuleConfigVector"><code class="docutils literal notranslate"><span class="pre">ModuleConfigVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.Quat"><code class="docutils literal notranslate"><span class="pre">Quat</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.QuatVector"><code class="docutils literal notranslate"><span class="pre">QuatVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.StringVector"><code class="docutils literal notranslate"><span class="pre">StringVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.UInt64Vector"><code class="docutils literal notranslate"><span class="pre">UInt64Vector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.UIntVector"><code class="docutils literal notranslate"><span class="pre">UIntVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.UnsignedCharVector"><code class="docutils literal notranslate"><span class="pre">UnsignedCharVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.apidoc.G3Documenter"><code class="docutils literal notranslate"><span class="pre">G3Documenter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.fileio.G3File"><code class="docutils literal notranslate"><span class="pre">G3File</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_core.html#useful-functions">Useful Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.apidoc.module_apidoc"><code class="docutils literal notranslate"><span class="pre">module_apidoc()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.g3logging.log_debug"><code class="docutils literal notranslate"><span class="pre">log_debug()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.g3logging.log_error"><code class="docutils literal notranslate"><span class="pre">log_error()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.g3logging.log_fatal"><code class="docutils literal notranslate"><span class="pre">log_fatal()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.g3logging.log_info"><code class="docutils literal notranslate"><span class="pre">log_info()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.g3logging.log_notice"><code class="docutils literal notranslate"><span class="pre">log_notice()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.g3logging.log_trace"><code class="docutils literal notranslate"><span class="pre">log_trace()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.g3logging.log_warn"><code class="docutils literal notranslate"><span class="pre">log_warn()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.g3logging.set_log_level"><code class="docutils literal notranslate"><span class="pre">set_log_level()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.timestreamextensions.concatenate_timestreams"><code class="docutils literal notranslate"><span class="pre">concatenate_timestreams()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_core.html#decorators">Decorators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.g3decorators.cache_frame_data"><code class="docutils literal notranslate"><span class="pre">cache_frame_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.g3decorators.scan_func_cache_data"><code class="docutils literal notranslate"><span class="pre">scan_func_cache_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.modconstruct.indexmod"><code class="docutils literal notranslate"><span class="pre">indexmod()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.modconstruct.pipesegment"><code class="docutils literal notranslate"><span class="pre">pipesegment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.modconstruct.pipesegment_nodoc"><code class="docutils literal notranslate"><span class="pre">pipesegment_nodoc()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_core.html#spt3g.core.modconstruct.usefulfunc"><code class="docutils literal notranslate"><span class="pre">usefulfunc()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../moddoc_dfmux.html">dfmux</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_dfmux.html#api-documentation">API Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_dfmux.html#frame-objects">Frame Objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.DfMuxBoardSamples"><code class="docutils literal notranslate"><span class="pre">DfMuxBoardSamples</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.DfMuxChannelMapping"><code class="docutils literal notranslate"><span class="pre">DfMuxChannelMapping</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.DfMuxHousekeepingMap"><code class="docutils literal notranslate"><span class="pre">DfMuxHousekeepingMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.DfMuxMetaSample"><code class="docutils literal notranslate"><span class="pre">DfMuxMetaSample</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.DfMuxSample"><code class="docutils literal notranslate"><span class="pre">DfMuxSample</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.DfMuxWiringMap"><code class="docutils literal notranslate"><span class="pre">DfMuxWiringMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.HkBoardInfo"><code class="docutils literal notranslate"><span class="pre">HkBoardInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.HkChannelInfo"><code class="docutils literal notranslate"><span class="pre">HkChannelInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.HkMezzanineInfo"><code class="docutils literal notranslate"><span class="pre">HkMezzanineInfo</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.HkModuleInfo"><code class="docutils literal notranslate"><span class="pre">HkModuleInfo</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_dfmux.html#class-like-pipeline-modules">Class-like Pipeline Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.DataQualityTools.FillMissingTimepointFrames"><code class="docutils literal notranslate"><span class="pre">FillMissingTimepointFrames</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.DfMuxBuilder"><code class="docutils literal notranslate"><span class="pre">DfMuxBuilder</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.DfMuxCollator"><code class="docutils literal notranslate"><span class="pre">DfMuxCollator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.HardwareMapTools.DfmlHardwareMapInjector"><code class="docutils literal notranslate"><span class="pre">DfmlHardwareMapInjector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.HardwareMapTools.GenerateFakeHardwareMap"><code class="docutils literal notranslate"><span class="pre">GenerateFakeHardwareMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.HardwareMapTools.PyDfMuxWiringMapInjector"><code class="docutils literal notranslate"><span class="pre">PyDfMuxWiringMapInjector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.Housekeeping.HousekeepingConsumer"><code class="docutils literal notranslate"><span class="pre">HousekeepingConsumer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.Housekeeping.PeriodicHousekeepingCollector"><code class="docutils literal notranslate"><span class="pre">PeriodicHousekeepingCollector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.LegacyHousekeeping.LegacyHousekeepingConsumer"><code class="docutils literal notranslate"><span class="pre">LegacyHousekeepingConsumer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.NetCDFDump"><code class="docutils literal notranslate"><span class="pre">NetCDFDump</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.ScanTools.FixedLengthScans"><code class="docutils literal notranslate"><span class="pre">FixedLengthScans</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.unittransforms.ConvertTimestreamUnits"><code class="docutils literal notranslate"><span class="pre">ConvertTimestreamUnits</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_dfmux.html#function-like-pipeline-modules">Function-like Pipeline Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.HardwareMapTools.PyDfMuxBolometerPropertiesInjector"><code class="docutils literal notranslate"><span class="pre">PyDfMuxBolometerPropertiesInjector()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_dfmux.html#useful-classes">Useful Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.DfMuxCollector"><code class="docutils literal notranslate"><span class="pre">DfMuxCollector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.HkChannelInfoMap"><code class="docutils literal notranslate"><span class="pre">HkChannelInfoMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.HkMezzanineInfoMap"><code class="docutils literal notranslate"><span class="pre">HkMezzanineInfoMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.HkModuleInfoMap"><code class="docutils literal notranslate"><span class="pre">HkModuleInfoMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.LegacyDfMuxCollector"><code class="docutils literal notranslate"><span class="pre">LegacyDfMuxCollector</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_dfmux.html#useful-functions">Useful Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.HardwareMapTools.PathStringForBolo"><code class="docutils literal notranslate"><span class="pre">PathStringForBolo()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.Housekeeping.HousekeepingForBolo"><code class="docutils literal notranslate"><span class="pre">HousekeepingForBolo()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_dfmux.html#spt3g.dfmux.unittransforms.get_timestream_unit_conversion"><code class="docutils literal notranslate"><span class="pre">get_timestream_unit_conversion()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../moddoc_gcp.html">gcp</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_gcp.html#api-documentation">API Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_gcp.html#frame-objects">Frame Objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ACUStatus"><code class="docutils literal notranslate"><span class="pre">ACUStatus</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ACUStatusVector"><code class="docutils literal notranslate"><span class="pre">ACUStatusVector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.TrackerPointing"><code class="docutils literal notranslate"><span class="pre">TrackerPointing</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.TrackerStatus"><code class="docutils literal notranslate"><span class="pre">TrackerStatus</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_gcp.html#class-like-pipeline-modules">Class-like Pipeline Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.CalibrateFrame"><code class="docutils literal notranslate"><span class="pre">CalibrateFrame</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCFileReader"><code class="docutils literal notranslate"><span class="pre">ARCFileReader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCHKExtractor.UnpackSPTpolHKData"><code class="docutils literal notranslate"><span class="pre">UnpackSPTpolHKData</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.GCPDataTee.DAQWatchdog"><code class="docutils literal notranslate"><span class="pre">DAQWatchdog</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.GCPDataTee.GCPBoloDataTee"><code class="docutils literal notranslate"><span class="pre">GCPBoloDataTee</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.GCPDataTee.GCPHousekeepingTee"><code class="docutils literal notranslate"><span class="pre">GCPHousekeepingTee</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.GCPDataTee.GCPSignalledHousekeeping"><code class="docutils literal notranslate"><span class="pre">GCPSignalledHousekeeping</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.GCPDataTee.PagerWatchdog"><code class="docutils literal notranslate"><span class="pre">PagerWatchdog</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.GCPMuxDataDecoder"><code class="docutils literal notranslate"><span class="pre">GCPMuxDataDecoder</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_gcp.html#function-like-pipeline-modules">Function-like Pipeline Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.AddBenchData"><code class="docutils literal notranslate"><span class="pre">AddBenchData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.DecryptFeatureBit"><code class="docutils literal notranslate"><span class="pre">DecryptFeatureBit()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackACUData"><code class="docutils literal notranslate"><span class="pre">UnpackACUData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackCryoData"><code class="docutils literal notranslate"><span class="pre">UnpackCryoData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackMuxData"><code class="docutils literal notranslate"><span class="pre">UnpackMuxData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackPTData"><code class="docutils literal notranslate"><span class="pre">UnpackPTData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackTrackerData"><code class="docutils literal notranslate"><span class="pre">UnpackTrackerData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackTrackerMinimal"><code class="docutils literal notranslate"><span class="pre">UnpackTrackerMinimal()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackTrackerPointingData"><code class="docutils literal notranslate"><span class="pre">UnpackTrackerPointingData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackWeatherData"><code class="docutils literal notranslate"><span class="pre">UnpackWeatherData()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UpdateLinearSensorDeltas"><code class="docutils literal notranslate"><span class="pre">UpdateLinearSensorDeltas()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.InfluxDB.WriteDB"><code class="docutils literal notranslate"><span class="pre">WriteDB()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_gcp.html#pipeline-segments">Pipeline Segments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.ARCExtract"><code class="docutils literal notranslate"><span class="pre">ARCExtract()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.ARCExtractMinimal"><code class="docutils literal notranslate"><span class="pre">ARCExtractMinimal()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.InfluxDB.UpdateDB"><code class="docutils literal notranslate"><span class="pre">UpdateDB()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_gcp.html#useful-classes">Useful Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.ARCFile.ARCFile"><code class="docutils literal notranslate"><span class="pre">ARCFile</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.CalFile.CalFileReader"><code class="docutils literal notranslate"><span class="pre">CalFileReader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.GCPLogger"><code class="docutils literal notranslate"><span class="pre">GCPLogger</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.TrackerStateVector"><code class="docutils literal notranslate"><span class="pre">TrackerStateVector</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_gcp.html#useful-functions">Useful Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_gcp.html#spt3g.gcp.CalFile.create_g3_cal_file"><code class="docutils literal notranslate"><span class="pre">create_g3_cal_file()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../moddoc_maps.html">maps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_maps.html#map-attributes">Map Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_maps.html#file-format-conversions">File Format Conversions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_maps.html#indexing">Indexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_maps.html#sparsity">Sparsity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_maps.html#masking">Masking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_maps.html#mask-memory-usage">Mask Memory Usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_maps.html#statistics">Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_maps.html#map-interpolation">Map Interpolation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_maps.html#map-weights">Map Weights</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_maps.html#map-frames-and-pipelines">Map Frames and Pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_maps.html#flat-sky-map-projections">Flat Sky Map Projections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_maps.html#flat-sky-map-manipulation">Flat Sky Map Manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_maps.html#map-pointing">Map Pointing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_maps.html#pointing-quaternions">Pointing Quaternions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_maps.html#rotation-quaternions">Rotation Quaternions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_maps.html#detector-pointing">Detector Pointing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_maps.html#api-documentation">API Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_maps.html#frame-objects">Frame Objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.FlatSkyMap"><code class="docutils literal notranslate"><span class="pre">FlatSkyMap</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.G3SkyMapMask"><code class="docutils literal notranslate"><span class="pre">G3SkyMapMask</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.G3SkyMapWeights"><code class="docutils literal notranslate"><span class="pre">G3SkyMapWeights</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.HealpixSkyMap"><code class="docutils literal notranslate"><span class="pre">HealpixSkyMap</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_maps.html#class-like-pipeline-modules">Class-like Pipeline Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.HitsBinner"><code class="docutils literal notranslate"><span class="pre">HitsBinner</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.MapBinner"><code class="docutils literal notranslate"><span class="pre">MapBinner</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.MapMockObserver"><code class="docutils literal notranslate"><span class="pre">MapMockObserver</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.MapTODMasker"><code class="docutils literal notranslate"><span class="pre">MapTODMasker</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.MapTODPointing"><code class="docutils literal notranslate"><span class="pre">MapTODPointing</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.SingleDetectorBoresightBinner"><code class="docutils literal notranslate"><span class="pre">SingleDetectorBoresightBinner</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.SingleDetectorMapBinner"><code class="docutils literal notranslate"><span class="pre">SingleDetectorMapBinner</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.CoaddMaps"><code class="docutils literal notranslate"><span class="pre">CoaddMaps</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.ExtractMaps"><code class="docutils literal notranslate"><span class="pre">ExtractMaps</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.InjectMapStub"><code class="docutils literal notranslate"><span class="pre">InjectMapStub</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.InjectMaps"><code class="docutils literal notranslate"><span class="pre">InjectMaps</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.ReprojectMaps"><code class="docutils literal notranslate"><span class="pre">ReprojectMaps</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_maps.html#function-like-pipeline-modules">Function-like Pipeline Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.azel.EquatorialToGalacticPointing"><code class="docutils literal notranslate"><span class="pre">EquatorialToGalacticPointing()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.azel.LocalToAstronomicalPointing"><code class="docutils literal notranslate"><span class="pre">LocalToAstronomicalPointing()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.coordsysmodules.AddLocalTransRotations"><code class="docutils literal notranslate"><span class="pre">AddLocalTransRotations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.coordsysmodules.EquatorialToGalacticTransRotations"><code class="docutils literal notranslate"><span class="pre">EquatorialToGalacticTransRotations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.coordsysmodules.FillCoordTransRotations"><code class="docutils literal notranslate"><span class="pre">FillCoordTransRotations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.fitsio.SaveMapFrame"><code class="docutils literal notranslate"><span class="pre">SaveMapFrame()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.ApplyWeights"><code class="docutils literal notranslate"><span class="pre">ApplyWeights()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.CompactMaps"><code class="docutils literal notranslate"><span class="pre">CompactMaps()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.FlattenPol"><code class="docutils literal notranslate"><span class="pre">FlattenPol()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.MakeMapsPolarized"><code class="docutils literal notranslate"><span class="pre">MakeMapsPolarized()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.MakeMapsUnpolarized"><code class="docutils literal notranslate"><span class="pre">MakeMapsUnpolarized()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.RebinMaps"><code class="docutils literal notranslate"><span class="pre">RebinMaps()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.RemoveWeights"><code class="docutils literal notranslate"><span class="pre">RemoveWeights()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.ReplicateMaps"><code class="docutils literal notranslate"><span class="pre">ReplicateMaps()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.SetPolConv"><code class="docutils literal notranslate"><span class="pre">SetPolConv()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.ValidateMaps"><code class="docutils literal notranslate"><span class="pre">ValidateMaps()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.quathelpers.AddTimingToPointingQuats"><code class="docutils literal notranslate"><span class="pre">AddTimingToPointingQuats()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_maps.html#useful-classes">Useful Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.G3SkyMap"><code class="docutils literal notranslate"><span class="pre">G3SkyMap</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_maps.html#useful-functions">Useful Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.apply_weights"><code class="docutils literal notranslate"><span class="pre">apply_weights()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.apply_weights_t"><code class="docutils literal notranslate"><span class="pre">apply_weights_t()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.azel.convert_azel_to_radec"><code class="docutils literal notranslate"><span class="pre">convert_azel_to_radec()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.azel.convert_gal_to_radec"><code class="docutils literal notranslate"><span class="pre">convert_gal_to_radec()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.azel.convert_radec_to_azel"><code class="docutils literal notranslate"><span class="pre">convert_radec_to_azel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.azel.convert_radec_to_gal"><code class="docutils literal notranslate"><span class="pre">convert_radec_to_gal()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.convolve_map"><code class="docutils literal notranslate"><span class="pre">convolve_map()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.fitsio.load_skymap_fits"><code class="docutils literal notranslate"><span class="pre">load_skymap_fits()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.fitsio.save_skymap_fits"><code class="docutils literal notranslate"><span class="pre">save_skymap_fits()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.flatten_pol"><code class="docutils literal notranslate"><span class="pre">flatten_pol()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.get_boresight_rotator_timestream"><code class="docutils literal notranslate"><span class="pre">get_boresight_rotator_timestream()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.get_fk5_j2000_to_gal_quat"><code class="docutils literal notranslate"><span class="pre">get_fk5_j2000_to_gal_quat()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.get_map_hist"><code class="docutils literal notranslate"><span class="pre">get_map_hist()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.get_map_moments"><code class="docutils literal notranslate"><span class="pre">get_map_moments()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.get_origin_rotator"><code class="docutils literal notranslate"><span class="pre">get_origin_rotator()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.get_origin_rotator_timestream"><code class="docutils literal notranslate"><span class="pre">get_origin_rotator_timestream()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.get_ra_dec_map"><code class="docutils literal notranslate"><span class="pre">get_ra_dec_map()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.get_ra_dec_mask"><code class="docutils literal notranslate"><span class="pre">get_ra_dec_mask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.get_rot_ang"><code class="docutils literal notranslate"><span class="pre">get_rot_ang()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.get_transform_quat"><code class="docutils literal notranslate"><span class="pre">get_transform_quat()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.make_point_source_mask"><code class="docutils literal notranslate"><span class="pre">make_point_source_mask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.map_modules.coadd_map_files"><code class="docutils literal notranslate"><span class="pre">coadd_map_files()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.maputils.flatsky_to_healpix"><code class="docutils literal notranslate"><span class="pre">flatsky_to_healpix()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.maputils.healpix_to_flatsky"><code class="docutils literal notranslate"><span class="pre">healpix_to_flatsky()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.offsets_to_quat"><code class="docutils literal notranslate"><span class="pre">offsets_to_quat()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.quathelpers.ang_to_quat"><code class="docutils literal notranslate"><span class="pre">ang_to_quat()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.quathelpers.quat_to_ang"><code class="docutils literal notranslate"><span class="pre">quat_to_ang()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.remove_weights"><code class="docutils literal notranslate"><span class="pre">remove_weights()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.remove_weights_t"><code class="docutils literal notranslate"><span class="pre">remove_weights_t()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_maps.html#spt3g.maps.reproj_map"><code class="docutils literal notranslate"><span class="pre">reproj_map()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../moddoc_mpi.html">mpi</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_mpi.html#frame-io-parallelization">Frame IO Parallelization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_mpi.html#frame-accumulation">Frame Accumulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_mpi.html#interface-to-toast">Interface to TOAST</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moddoc_mpi.html#api-documentation">API Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_mpi.html#class-like-pipeline-modules">Class-like Pipeline Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_mpi.html#spt3g.mpi.MPIAccumulator.MPIAccumulator"><code class="docutils literal notranslate"><span class="pre">MPIAccumulator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_mpi.html#spt3g.mpi.MPIFileIO.MPIFileReader"><code class="docutils literal notranslate"><span class="pre">MPIFileReader</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_mpi.html#spt3g.mpi.MPIFileIO.MPIFrameParallelizer"><code class="docutils literal notranslate"><span class="pre">MPIFrameParallelizer</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../moddoc_mpi.html#pipeline-segments">Pipeline Segments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../moddoc_mpi.html#spt3g.mpi.MPIFileIO.MPIIODistributor"><code class="docutils literal notranslate"><span class="pre">MPIIODistributor()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">SPT-3G Software</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">spt3g.gcp.ARCExtractor</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for spt3g.gcp.ARCExtractor</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">from</span> <span class="nn">..</span> <span class="kn">import</span> <span class="n">core</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">ACUStatus</span><span class="p">,</span> <span class="n">ACUState</span><span class="p">,</span> <span class="n">TrackerStatus</span><span class="p">,</span> <span class="n">TrackerState</span><span class="p">,</span> <span class="n">TrackerPointing</span><span class="p">,</span> <span class="n">CalFile</span>

<span class="k">def</span> <span class="nf">UnitValue</span><span class="p">(</span><span class="n">caldict_entry</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Turn unit name into floating point unit value&#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="s1">&#39;UnitValue&#39;</span> <span class="ow">in</span> <span class="n">caldict_entry</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">caldict_entry</span><span class="p">[</span><span class="s1">&#39;UnitValue&#39;</span><span class="p">]</span>

    <span class="k">try</span><span class="p">:</span> 
        <span class="n">uname</span> <span class="o">=</span> <span class="n">caldict_entry</span><span class="p">[</span><span class="s1">&#39;UnitName&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">uname</span> <span class="ow">and</span> <span class="n">uname</span> <span class="o">!=</span> <span class="s1">&#39;None&#39;</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="s1">&#39;/&#39;</span> <span class="ow">in</span> <span class="n">uname</span><span class="p">:</span>
                    <span class="n">unames</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="n">uname</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)))</span>
                    <span class="n">uvalue1</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">G3Units</span><span class="p">,</span> 
                                      <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="n">unames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)))[</span><span class="mi">0</span><span class="p">])</span>
                    <span class="n">uvalue2</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">G3Units</span><span class="p">,</span> 
                                      <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="n">unames</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)))[</span><span class="mi">0</span><span class="p">])</span>
                    <span class="n">uvalue</span> <span class="o">=</span> <span class="n">uvalue1</span> <span class="o">/</span> <span class="n">uvalue2</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">uvalue</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">G3Units</span><span class="p">,</span> <span class="n">uname</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="n">uvalue</span> <span class="o">=</span> <span class="mf">1.</span>
                <span class="n">core</span><span class="o">.</span><span class="n">log_warn</span><span class="p">(</span><span class="s1">&#39;No entry in G3Units for &#39;</span> <span class="o">+</span> <span class="n">uname</span> <span class="o">+</span> <span class="s1">&#39;. Setting UnitValue to 1.0</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">uvalue</span> <span class="o">=</span> <span class="mf">1.</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="n">uvalue</span> <span class="o">=</span> <span class="mf">1.</span>

    <span class="n">caldict_entry</span><span class="p">[</span><span class="s1">&#39;UnitValue&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uvalue</span>

    <span class="k">return</span> <span class="n">uvalue</span>


<span class="k">def</span> <span class="nf">CalibrateValue</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">caldict_entry</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Apply gain / offset units from G3 cal file to register&#39;&#39;&#39;</span>

    <span class="n">uvalue</span> <span class="o">=</span> <span class="n">UnitValue</span><span class="p">(</span><span class="n">caldict_entry</span><span class="p">)</span>

    <span class="c1"># if a register has units, it can&#39;t be an int anymore.  well, actually,</span>
    <span class="c1"># it can&#39;t be an int if we&#39;re adding floats to it or multiplying it by</span>
    <span class="c1"># floats either, so convert everything that has an entry in the cal file</span>
    <span class="c1"># to float/double.</span>
    <span class="k">if</span> <span class="s1">&#39;OutputType&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">caldict_entry</span><span class="p">:</span>
        <span class="n">g3type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">g3type</span> <span class="o">==</span> <span class="n">core</span><span class="o">.</span><span class="n">G3VectorInt</span><span class="p">:</span>
            <span class="n">g3type</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3VectorDouble</span>
        <span class="k">elif</span> <span class="n">g3type</span> <span class="o">==</span> <span class="n">core</span><span class="o">.</span><span class="n">G3MapInt</span><span class="p">:</span>
            <span class="n">g3type</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3MapDouble</span>
        <span class="k">elif</span> <span class="n">g3type</span> <span class="o">==</span> <span class="n">core</span><span class="o">.</span><span class="n">G3Int</span><span class="p">:</span>
            <span class="n">g3type</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3Double</span>
        <span class="n">caldict_entry</span><span class="p">[</span><span class="s1">&#39;OutputType&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">g3type</span>
    <span class="n">g3type</span> <span class="o">=</span> <span class="n">caldict_entry</span><span class="p">[</span><span class="s1">&#39;OutputType&#39;</span><span class="p">]</span>

    <span class="c1"># make a copy</span>
    <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">value</span>
    <span class="n">data2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float64&#39;</span><span class="p">)</span>

    <span class="c1"># calibrate units</span>
    <span class="n">offset</span><span class="p">,</span> <span class="n">recip</span> <span class="o">=</span> <span class="n">caldict_entry</span><span class="p">[</span><span class="s1">&#39;Offset&#39;</span><span class="p">],</span> <span class="n">caldict_entry</span><span class="p">[</span><span class="s1">&#39;ReciprocalFactor&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">offset</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">data2</span> <span class="o">+=</span> <span class="nb">float</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>
    <span class="n">data2</span> <span class="o">*=</span> <span class="nb">float</span><span class="p">(</span><span class="n">uvalue</span> <span class="o">/</span> <span class="n">recip</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">data2</span><span class="o">.</span><span class="n">shape</span><span class="p">:</span>
        <span class="n">data2</span> <span class="o">=</span> <span class="n">data2</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">g3type</span><span class="p">(</span><span class="n">data2</span><span class="p">)</span>


<div class="viewcode-block" id="CalibrateFrame">
<a class="viewcode-back" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.CalibrateFrame">[docs]</a>
<span class="nd">@core</span><span class="o">.</span><span class="n">indexmod</span>
<span class="k">class</span> <span class="nc">CalibrateFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Apply gain / offset / units from G3 cal file&#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">calibration_file</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">cf</span> <span class="o">=</span> <span class="n">CalFile</span><span class="o">.</span><span class="n">CalFileReader</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cal</span> <span class="o">=</span> <span class="n">cf</span><span class="o">.</span><span class="n">readCalFile</span><span class="p">(</span><span class="n">calibration_file</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">frame</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3FrameType</span><span class="o">.</span><span class="n">GcpSlow</span> <span class="ow">or</span> <span class="s1">&#39;Calibrated&#39;</span> <span class="ow">in</span> <span class="n">frame</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">for</span> <span class="n">board</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">cboard</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">board</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cal</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">bcal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cal</span><span class="p">[</span><span class="n">board</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">rmap</span><span class="p">,</span> <span class="n">crmap</span> <span class="ow">in</span> <span class="n">cboard</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">rmap</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">bcal</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="n">rcal</span> <span class="o">=</span> <span class="n">bcal</span><span class="p">[</span><span class="n">rmap</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">reg</span><span class="p">,</span> <span class="n">creg</span> <span class="ow">in</span> <span class="n">crmap</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">if</span> <span class="n">reg</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">rcal</span><span class="p">:</span>
                        <span class="k">continue</span>
                    <span class="n">rcd</span> <span class="o">=</span> <span class="n">rcal</span><span class="p">[</span><span class="n">reg</span><span class="p">]</span>
                    <span class="n">rsize</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">size</span><span class="p">(</span><span class="n">creg</span><span class="p">)</span>
                    <span class="n">rshape</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="n">creg</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">rsize</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">rshape</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">rshape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                            <span class="k">try</span><span class="p">:</span>
                                <span class="n">rcdi</span> <span class="o">=</span> <span class="n">rcd</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                                <span class="n">rcdi</span> <span class="o">=</span> <span class="n">rcd</span>
                            <span class="n">creg</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">CalibrateValue</span><span class="p">(</span><span class="n">creg</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">rcdi</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">try</span><span class="p">:</span>
                            <span class="n">rcdi</span> <span class="o">=</span> <span class="n">rcd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                            <span class="n">rcdi</span> <span class="o">=</span> <span class="n">rcd</span>
                        <span class="n">crmap</span><span class="p">[</span><span class="n">reg</span><span class="p">]</span> <span class="o">=</span> <span class="n">CalibrateValue</span><span class="p">(</span><span class="n">creg</span><span class="p">,</span> <span class="n">rcdi</span><span class="p">)</span>
            <span class="n">frame</span><span class="p">[</span><span class="n">board</span><span class="p">]</span> <span class="o">=</span> <span class="n">cboard</span>

        <span class="n">frame</span><span class="p">[</span><span class="s1">&#39;Calibrated&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span></div>



<div class="viewcode-block" id="UnpackACUData">
<a class="viewcode-back" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackACUData">[docs]</a>
<span class="nd">@core</span><span class="o">.</span><span class="n">indexmod</span>
<span class="k">def</span> <span class="nf">UnpackACUData</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Extracts ACU status information to ACUStatus key in frame&#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3FrameType</span><span class="o">.</span><span class="n">GcpSlow</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">board</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;antenna0&#39;</span><span class="p">][</span><span class="s1">&#39;acu&#39;</span><span class="p">]</span>

    <span class="n">a</span> <span class="o">=</span> <span class="n">ACUStatus</span><span class="p">()</span>
    <span class="n">a</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;antenna0&#39;</span><span class="p">][</span><span class="s1">&#39;frame&#39;</span><span class="p">][</span><span class="s1">&#39;utc&#39;</span><span class="p">]</span>
    <span class="n">a</span><span class="o">.</span><span class="n">az_pos</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;az_pos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">a</span><span class="o">.</span><span class="n">el_pos</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;el_pos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">a</span><span class="o">.</span><span class="n">az_rate</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;az_rate&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">a</span><span class="o">.</span><span class="n">el_rate</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;el_rate&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>

    <span class="c1"># &#39;new_*&#39; registers not actually filled by GCP; ignore them</span>

    <span class="n">a</span><span class="o">.</span><span class="n">px_checksum_error_count</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;px_checksum_error_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">a</span><span class="o">.</span><span class="n">px_resync_count</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;px_resync_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">a</span><span class="o">.</span><span class="n">px_resync_timeout_count</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;px_resync_timeout_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">a</span><span class="o">.</span><span class="n">px_resyncing</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;px_resyncing&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">a</span><span class="o">.</span><span class="n">px_timeout_count</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;px_timeout_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">a</span><span class="o">.</span><span class="n">restart_count</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;restart_count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>

    <span class="n">a</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">ACUState</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;state&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    <span class="n">a</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;acu_status&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">a</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;acu_error&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="c1"># This register was some time in early 2018.  In order to read</span>
        <span class="c1"># older data, just set the error code to 0.</span>
        <span class="n">a</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;ACUStatus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span></div>



<div class="viewcode-block" id="UnpackTrackerMinimal">
<a class="viewcode-back" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackTrackerMinimal">[docs]</a>
<span class="nd">@core</span><span class="o">.</span><span class="n">indexmod</span>
<span class="k">def</span> <span class="nf">UnpackTrackerMinimal</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">rewrite_source_from_feature_bits</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Construct SourceName and ObservationId keys from frame.</span>

<span class="sd">    If rewrite_source_from_feature_bits is True (the default), will try to</span>
<span class="sd">    rewrite source names if DecryptFeatureBit() has been run and either</span>
<span class="sd">    &quot;elnod&quot;, &quot;calibrator&quot;, or &quot;noise&quot; is present in the feature bit list</span>
<span class="sd">    to that value.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3FrameType</span><span class="o">.</span><span class="n">GcpSlow</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="c1"># Grab the GCP source name. If it is &quot;current&quot;, fill in something more</span>
    <span class="c1"># helpful from the feature bits if possible.</span>
    <span class="n">source</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;antenna0&#39;</span><span class="p">][</span><span class="s1">&#39;tracker&#39;</span><span class="p">][</span><span class="s1">&#39;source&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="k">if</span> <span class="n">rewrite_source_from_feature_bits</span> <span class="ow">and</span> <span class="s1">&#39;GCPFeatureBits&#39;</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">if</span> <span class="s1">&#39;elnod&#39;</span> <span class="ow">in</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;GCPFeatureBits&#39;</span><span class="p">]:</span>
            <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;elnod&#39;</span>
        <span class="k">if</span> <span class="s1">&#39;calibrator&#39;</span> <span class="ow">in</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;GCPFeatureBits&#39;</span><span class="p">]</span> <span class="ow">and</span> <span class="s1">&#39;source_scan&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;GCPFeatureBits&#39;</span><span class="p">]:</span>
            <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;calibrator&#39;</span>
        <span class="k">if</span> <span class="s1">&#39;noise&#39;</span> <span class="ow">in</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;GCPFeatureBits&#39;</span><span class="p">]:</span>
            <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;noise&#39;</span>
        <span class="k">if</span> <span class="s1">&#39;debug&#39;</span> <span class="ow">in</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;GCPFeatureBits&#39;</span><span class="p">]:</span>
            <span class="n">source</span> <span class="o">=</span> <span class="s1">&#39;debug-forced-scanify&#39;</span>
        <span class="k">if</span> <span class="s1">&#39;every_pixel_on_src&#39;</span> <span class="ow">in</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;GCPFeatureBits&#39;</span><span class="p">]:</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">source</span> <span class="o">+</span> <span class="s1">&#39;-pixelraster&#39;</span> <span class="c1"># NB: Do NOT use in-place +=</span>
    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;SourceName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">source</span>

    <span class="c1"># And observation ID, if present</span>
    <span class="k">if</span> <span class="s1">&#39;obs_id&#39;</span> <span class="ow">in</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;antenna0&#39;</span><span class="p">][</span><span class="s1">&#39;tracker&#39;</span><span class="p">]:</span>
        <span class="n">f</span><span class="p">[</span><span class="s1">&#39;ObservationID&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;antenna0&#39;</span><span class="p">][</span><span class="s1">&#39;tracker&#39;</span><span class="p">][</span><span class="s1">&#39;obs_id&#39;</span><span class="p">]</span></div>



<div class="viewcode-block" id="UnpackTrackerData">
<a class="viewcode-back" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackTrackerData">[docs]</a>
<span class="nd">@core</span><span class="o">.</span><span class="n">indexmod</span>
<span class="k">def</span> <span class="nf">UnpackTrackerData</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">rewrite_source_from_feature_bits</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Extracts tracker status information to frame into the TrackerStatus key,</span>
<span class="sd">    along with the observation processing handled by UnpackTrackerMinimal.</span>

<span class="sd">    If rewrite_source_from_feature_bits is True (the default), will try to</span>
<span class="sd">    rewrite source names if DecryptFeatureBit() has been run and either</span>
<span class="sd">    &quot;elnod&quot;, &quot;calibrator&quot;, or &quot;noise&quot; is present in the feature bit list</span>
<span class="sd">    to that value.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3FrameType</span><span class="o">.</span><span class="n">GcpSlow</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">UnpackTrackerMinimal</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">rewrite_source_from_feature_bits</span><span class="p">)</span>

    <span class="n">board</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;antenna0&#39;</span><span class="p">][</span><span class="s1">&#39;tracker&#39;</span><span class="p">]</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">TrackerStatus</span><span class="p">()</span>
    <span class="c1"># List comprehensions are due to funny business with G3VectorFrameObject</span>
    <span class="n">t</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;utc&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># Measured values</span>
    <span class="n">t</span><span class="o">.</span><span class="n">az_pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;actual&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">el_pos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;actual&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="c1"># XXX units for rates seem to be wrong. I think this is in encoder counts</span>
    <span class="n">t</span><span class="o">.</span><span class="n">az_rate</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;actual_rates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">float</span><span class="p">)</span>
    <span class="n">t</span><span class="o">.</span><span class="n">el_rate</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;actual_rates&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">float</span><span class="p">)</span>
    
    <span class="c1"># Expected values</span>
    <span class="n">t</span><span class="o">.</span><span class="n">az_command</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;expected&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">el_command</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;expected&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">az_rate_command</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;expected_rates&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">float</span><span class="p">)</span>
    <span class="n">t</span><span class="o">.</span><span class="n">el_rate_command</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;expected_rates&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nb">float</span><span class="p">)</span>

    <span class="c1"># Status params</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;state&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">core</span><span class="o">.</span><span class="n">G3String</span><span class="p">):</span>
        <span class="c1"># If state is all zero (LACKING), for example due to an ACU glitch,</span>
        <span class="c1"># the ARC reader may decide that the 8-bit array field is a string.</span>
        <span class="c1"># Treat it as one.</span>
        <span class="n">t</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="p">[</span><span class="n">TrackerState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;inControl&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">t</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="p">[</span><span class="n">TrackerState</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;state&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span>
    <span class="n">t</span><span class="o">.</span><span class="n">acu_seq</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;acu_seq&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">t</span><span class="o">.</span><span class="n">in_control</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">BoolVector</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;inControl&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">in_control_int</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">IntVector</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;inControl&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">scan_flag</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">BoolVector</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;scan_flag&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    
    <span class="n">t</span><span class="o">.</span><span class="n">lst</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;lst&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>

    <span class="n">t</span><span class="o">.</span><span class="n">source_acquired</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;off_source&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">source_acquired_threshold</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;source_acquired_threshold&#39;</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">tracker_mode</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;mode&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">tracker_lacking</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;lacking&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">time_status</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;time_status&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">t</span><span class="o">.</span><span class="n">schedule_name</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;schedule_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="n">t</span><span class="o">.</span><span class="n">schedule_name</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">chr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;schedule_name&#39;</span><span class="p">]]))</span>

    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;TrackerStatus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span></div>



<div class="viewcode-block" id="UnpackTrackerPointingData">
<a class="viewcode-back" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackTrackerPointingData">[docs]</a>
<span class="nd">@core</span><span class="o">.</span><span class="n">indexmod</span>
<span class="k">def</span> <span class="nf">UnpackTrackerPointingData</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Extracts tracker registers relevant to online and offline pointing.</span>
<span class="sd">    Calibration values (offsets and multiplicative constants) are from</span>
<span class="sd">    gcp/control/conf/spt/cal.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3FrameType</span><span class="o">.</span><span class="n">GcpSlow</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">board</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;antenna0&#39;</span><span class="p">][</span><span class="s1">&#39;tracker&#39;</span><span class="p">]</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">TrackerPointing</span><span class="p">()</span>
    <span class="n">t</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;utc&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">t</span><span class="o">.</span><span class="n">scu_temp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s1">&#39;antenna0&#39;</span><span class="p">][</span><span class="s1">&#39;scu&#39;</span><span class="p">][</span><span class="s1">&#39;temp&#39;</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">features</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">IntVector</span><span class="p">([</span><span class="n">f</span><span class="p">[</span><span class="s1">&#39;array&#39;</span><span class="p">][</span><span class="s1">&#39;frame&#39;</span><span class="p">][</span><span class="s1">&#39;features&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">])</span>

    <span class="n">t</span><span class="o">.</span><span class="n">encoder_off_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;encoder_off&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
    <span class="n">t</span><span class="o">.</span><span class="n">encoder_off_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;encoder_off&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
    
    <span class="n">t</span><span class="o">.</span><span class="n">low_limit_az</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;az_limits&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
    <span class="n">t</span><span class="o">.</span><span class="n">high_limit_az</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;az_limits&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
    <span class="n">t</span><span class="o">.</span><span class="n">low_limit_el</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;el_limits&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
    <span class="n">t</span><span class="o">.</span><span class="n">high_limit_el</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;el_limits&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>

    <span class="n">t</span><span class="o">.</span><span class="n">tilts_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;tilt_xy_avg&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
    <span class="n">t</span><span class="o">.</span><span class="n">tilts_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;tilt_xy_avg&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
    <span class="n">t</span><span class="o">.</span><span class="n">refraction</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;refraction&#39;</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>

    <span class="n">t</span><span class="o">.</span><span class="n">horiz_mount_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;horiz_mount&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">horiz_mount_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;horiz_mount&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">horiz_off_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;horiz_off&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">horiz_off_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;horiz_off&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">t</span><span class="o">.</span><span class="n">scan_off_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;scan_off&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">scan_off_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;scan_off&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">sky_off_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;sky_xy_off&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">sky_off_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;sky_xy_off&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">equat_off_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;equat_off&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">equat_off_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;equat_off&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">t</span><span class="o">.</span><span class="n">equat_geoc_ra</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;equat_geoc&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">equat_geoc_dec</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;equat_geoc&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">horiz_topo_az</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;horiz_topo&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">horiz_topo_el</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;horiz_topo&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">t</span><span class="o">.</span><span class="n">error_az</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;errors&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">error_el</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;errors&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">t</span><span class="o">.</span><span class="n">linsens_avg_l1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;linear_sensor_avg&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">linsens_avg_l2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;linear_sensor_avg&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">linsens_avg_r1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;linear_sensor_avg&#39;</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">linsens_avg_r2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;linear_sensor_avg&#39;</span><span class="p">][</span><span class="mi">3</span><span class="p">])</span>
    
    <span class="n">t</span><span class="o">.</span><span class="n">telescope_temp</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="n">f</span><span class="p">[</span><span class="s1">&#39;array&#39;</span><span class="p">][</span><span class="s1">&#39;weather&#39;</span><span class="p">][</span><span class="s1">&#39;airTemperature&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">])</span>
    <span class="n">t</span><span class="o">.</span><span class="n">telescope_pressure</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">([</span><span class="n">f</span><span class="p">[</span><span class="s1">&#39;array&#39;</span><span class="p">][</span><span class="s1">&#39;weather&#39;</span><span class="p">][</span><span class="s1">&#39;pressure&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">])</span>

    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;TrackerPointing&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span>

    <span class="n">p</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3MapVectorDouble</span><span class="p">()</span>
    <span class="n">pc</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3MapVectorDouble</span><span class="p">()</span>

    <span class="c1"># core model parameters</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;tilts&quot;</span><span class="p">,</span> <span class="s2">&quot;flexure&quot;</span><span class="p">,</span> <span class="s2">&quot;fixedCollimation&quot;</span><span class="p">]:</span>
        <span class="n">p</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
        <span class="n">kadj</span> <span class="o">=</span> <span class="n">k</span> <span class="o">+</span> <span class="s2">&quot;Adjust&quot;</span>
        <span class="k">if</span> <span class="n">kadj</span> <span class="ow">in</span> <span class="n">board</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="n">kadj</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
                <span class="n">pc</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>

    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
    <span class="k">if</span> <span class="s1">&#39;linear_sensor_enabled&#39;</span> <span class="ow">in</span> <span class="n">board</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">p</span><span class="p">[</span><span class="s1">&#39;linsensEnabled&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;linear_sensor_enabled&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;linear_sensor_coeff&#39;</span> <span class="ow">in</span> <span class="n">board</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">p</span><span class="p">[</span><span class="s1">&#39;linsensCoeffs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;linear_sensor_coeff&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">p</span><span class="p">[</span><span class="s1">&#39;linsensEnabled&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>

    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;OnlinePointingModel&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pc</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="n">pc</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span>
        <span class="n">f</span><span class="p">[</span><span class="s1">&#39;OnlinePointingModelCorrection&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pc</span></div>



<div class="viewcode-block" id="UpdateLinearSensorDeltas">
<a class="viewcode-back" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UpdateLinearSensorDeltas">[docs]</a>
<span class="nd">@core</span><span class="o">.</span><span class="n">indexmod</span>
<span class="k">def</span> <span class="nf">UpdateLinearSensorDeltas</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>

    <span class="k">if</span> <span class="s1">&#39;TrackerPointing&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="s1">&#39;LinearSensorDeltas&#39;</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="c1"># Yoke dimensions in mm.</span>
    <span class="n">Rs</span> <span class="o">=</span> <span class="mf">1652.0</span> <span class="o">*</span> <span class="n">core</span><span class="o">.</span><span class="n">G3Units</span><span class="o">.</span><span class="n">mm</span>
    <span class="n">Rh</span> <span class="o">=</span> <span class="mf">3556.0</span> <span class="o">*</span> <span class="n">core</span><span class="o">.</span><span class="n">G3Units</span><span class="o">.</span><span class="n">mm</span>
    <span class="n">Ry</span> <span class="o">=</span> <span class="mf">6782.0</span> <span class="o">*</span> <span class="n">core</span><span class="o">.</span><span class="n">G3Units</span><span class="o">.</span><span class="n">mm</span>

    <span class="n">l1</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;TrackerPointing&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">linsens_avg_l1</span>
    <span class="n">l2</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;TrackerPointing&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">linsens_avg_l2</span>
    <span class="n">r1</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;TrackerPointing&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">linsens_avg_r1</span>
    <span class="n">r2</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s2">&quot;TrackerPointing&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">linsens_avg_r2</span>

    <span class="c1"># Calculate corrections in radians.</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3MapVectorDouble</span><span class="p">()</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s1">&#39;TrackerPointing&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
    <span class="n">p</span><span class="p">[</span><span class="s2">&quot;delta_az&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">Rh</span> <span class="o">/</span> <span class="p">(</span><span class="n">Ry</span> <span class="o">*</span> <span class="n">Rs</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="n">l1</span> <span class="o">-</span> <span class="n">l2</span> <span class="o">-</span> <span class="n">r1</span> <span class="o">+</span> <span class="n">r2</span><span class="p">)</span> <span class="o">*</span> <span class="n">core</span><span class="o">.</span><span class="n">G3Units</span><span class="o">.</span><span class="n">rad</span>
    <span class="n">p</span><span class="p">[</span><span class="s2">&quot;delta_el&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span><span class="mf">2.</span> <span class="o">*</span> <span class="n">Rs</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="n">l2</span> <span class="o">-</span> <span class="n">l1</span> <span class="o">+</span> <span class="n">r2</span> <span class="o">-</span> <span class="n">r1</span><span class="p">)</span> <span class="o">*</span> <span class="n">core</span><span class="o">.</span><span class="n">G3Units</span><span class="o">.</span><span class="n">rad</span>
    <span class="n">p</span><span class="p">[</span><span class="s2">&quot;delta_et&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span><span class="mf">2.</span> <span class="o">*</span> <span class="n">Ry</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="n">l1</span> <span class="o">+</span> <span class="n">l2</span> <span class="o">-</span> <span class="n">r1</span> <span class="o">-</span> <span class="n">r2</span><span class="p">)</span> <span class="o">*</span> <span class="n">core</span><span class="o">.</span><span class="n">G3Units</span><span class="o">.</span><span class="n">rad</span>

    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;LinearSensorDeltas&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span></div>



<div class="viewcode-block" id="DecryptFeatureBit">
<a class="viewcode-back" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.DecryptFeatureBit">[docs]</a>
<span class="nd">@core</span><span class="o">.</span><span class="n">indexmod</span>
<span class="k">def</span> <span class="nf">DecryptFeatureBit</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Unpacks the GCP feature flags</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3FrameType</span><span class="o">.</span><span class="n">GcpSlow</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">flag_array</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3VectorString</span><span class="p">()</span>
    <span class="n">feature_bit</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;array&#39;</span><span class="p">][</span><span class="s1">&#39;frame&#39;</span><span class="p">][</span><span class="s1">&#39;features&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>

    <span class="n">flags</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;analyze&#39;</span><span class="p">,</span> <span class="s1">&#39;source_scan&#39;</span><span class="p">,</span> <span class="s1">&#39;cabin_shutter&#39;</span><span class="p">,</span> <span class="s1">&#39;elnod&#39;</span><span class="p">,</span> <span class="s1">&#39;pol_cal&#39;</span><span class="p">,</span>
             <span class="s1">&#39;calibrator&#39;</span><span class="p">,</span> <span class="s1">&#39;every_pixel_on_src&#39;</span><span class="p">,</span> <span class="s1">&#39;skydip&#39;</span><span class="p">,</span> <span class="s1">&#39;optical&#39;</span><span class="p">,</span> <span class="s1">&#39;noise&#39;</span><span class="p">,</span>
             <span class="s1">&#39;trail&#39;</span><span class="p">,</span> <span class="s1">&#39;el_scan&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span>
             <span class="s1">&#39;debug&#39;</span><span class="p">]</span>
             <span class="c1"># Sorry... NDH</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">flags</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">feature_bit</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
            <span class="k">if</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">core</span><span class="o">.</span><span class="n">log_error</span><span class="p">(</span><span class="s1">&#39;Got an unused feature bit: </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="n">flag_array</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;GCPFeatureBits&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">flag_array</span></div>



<div class="viewcode-block" id="AddBenchData">
<a class="viewcode-back" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.AddBenchData">[docs]</a>
<span class="nd">@core</span><span class="o">.</span><span class="n">indexmod</span>
<span class="k">def</span> <span class="nf">AddBenchData</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Add the optical bench positions to the frame.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3FrameType</span><span class="o">.</span><span class="n">GcpSlow</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">bench_axes</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;y1&#39;</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">,</span> <span class="s1">&#39;y3&#39;</span><span class="p">,</span> <span class="s1">&#39;x4&#39;</span><span class="p">,</span> <span class="s1">&#39;x5&#39;</span><span class="p">,</span> <span class="s1">&#39;z6&#39;</span><span class="p">]</span>

    <span class="n">board</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;antenna0&#39;</span><span class="p">][</span><span class="s1">&#39;scu&#39;</span><span class="p">]</span>

    <span class="c1"># As of 2017-08-03, SCU time is not trustworthy</span>
    <span class="c1"># time = board[&#39;benchSampleTime&#39;][0]</span>
    <span class="c1"># For now, do this bit of evil</span>
    <span class="n">time</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;antenna0&#39;</span><span class="p">][</span><span class="s1">&#39;tracker&#39;</span><span class="p">][</span><span class="s1">&#39;utc&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">stop</span> <span class="o">=</span> <span class="n">time</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">benchcom</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3TimestreamMap</span><span class="p">()</span>
    <span class="n">benchpos</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3TimestreamMap</span><span class="p">()</span>
    <span class="n">benchzero</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3TimestreamMap</span><span class="p">()</span>
    <span class="n">benchoff</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3TimestreamMap</span><span class="p">()</span>
    <span class="n">bencherr</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3TimestreamMap</span><span class="p">()</span>
    <span class="n">bench_info</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3TimestreamMap</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bench_axes</span><span class="p">):</span>
        <span class="n">benchcom</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3Timestream</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;benchExpected&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">])</span>
        <span class="n">benchcom</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="n">benchcom</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="n">stop</span>

        <span class="n">benchpos</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3Timestream</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;benchActual&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">])</span>
        <span class="n">benchpos</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="n">benchpos</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="n">stop</span>

        <span class="n">benchzero</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3Timestream</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;benchZeros&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">])</span>
        <span class="n">benchzero</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="n">benchzero</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="n">stop</span>

        <span class="n">benchoff</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3Timestream</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;benchOffsets&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">])</span>
        <span class="n">benchoff</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="n">benchoff</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="n">stop</span>

        <span class="n">bencherr</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3Timestream</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="s1">&#39;benchErrors&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">])</span>
        <span class="n">bencherr</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="n">bencherr</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="n">stop</span>

    <span class="n">info_items</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;benchFocus&#39;</span><span class="p">,</span> <span class="s1">&#39;benchDeadBand&#39;</span><span class="p">,</span> <span class="s1">&#39;benchAcquiredThreshold&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;benchPrimaryState&#39;</span><span class="p">,</span> <span class="s1">&#39;benchSecondaryState&#39;</span><span class="p">,</span> 
                  <span class="s1">&#39;benchFault&#39;</span><span class="p">,</span> <span class="s1">&#39;timeLocked&#39;</span><span class="p">]</span>
    <span class="n">bench_info</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3TimestreamMap</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">info_items</span><span class="p">):</span>
        <span class="n">bench_info</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3Timestream</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">bench_info</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="n">bench_info</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">stop</span> <span class="o">=</span> <span class="n">stop</span>

    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;BenchPosition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">benchpos</span>
    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;BenchCommandedPosition&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">benchcom</span>
    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;BenchZeros&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">benchzero</span>
    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;BenchOffsets&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">benchoff</span>
    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;BenchErrors&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bencherr</span>
    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;BenchInfo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bench_info</span>
    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;BenchSampleTime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;benchSampleTime&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span></div>

    
<div class="viewcode-block" id="UnpackCryoData">
<a class="viewcode-back" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackCryoData">[docs]</a>
<span class="nd">@core</span><span class="o">.</span><span class="n">indexmod</span>
<span class="k">def</span> <span class="nf">UnpackCryoData</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Extracts cryo information into CryoStatus key</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3FrameType</span><span class="o">.</span><span class="n">GcpSlow</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="s1">&#39;cryo&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;array&#39;</span><span class="p">]:</span>
        <span class="k">return</span>

    <span class="n">board</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;array&#39;</span><span class="p">][</span><span class="s1">&#39;cryo&#39;</span><span class="p">]</span>
    <span class="n">temps</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;temperature&#39;</span><span class="p">]</span>
    <span class="n">heaters</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;heater_dac&#39;</span><span class="p">]</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3MapDouble</span><span class="p">()</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;cryo_is_valid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;cryoIsValid&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># Measured values</span>
    <span class="c1"># He10</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;uc_head&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;ic_head&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;he4_head&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;he4_fb&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;he4_pump&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;ic_pump&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;uc_pump&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">6</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;he4_sw&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">7</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;ic_sw&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">8</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;uc_sw&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">9</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;uc_stage&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">10</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;lc_tower&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">11</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;ic_stage&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">12</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;t4k_head&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">13</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;t4k_squid_strap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">14</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;t50k_head&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">15</span><span class="p">]</span>

    <span class="c1"># Optics</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;b1_50k_wbp_near&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;b2_50k_wbp_far&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;b3_50k_diving_board&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;b4_50k_top_bot_ptc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;y1_50k_head&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;y2_50k_window_strap_near&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;y3_50k_tube_strap_near&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">6</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;y4_50k_tube&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">7</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;g1_4k_head&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">8</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;g2_4k_strap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">9</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;g3_4k_lens_tab&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">10</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;g4_4k_lens_tab_far&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">11</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;r1_4k_top_top_ptc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">12</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;r2_50k_midop_bot_ptc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">13</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;r3_4k_lyot_flange&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">14</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;r4_4k_lyot&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">15</span><span class="p">]</span>

    <span class="c1"># Receiver</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;t4k_plate_far&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;t4k_strap_optics&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;t4k_plate_mid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;t4k_plate_top&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;t4k_plate_ptc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;t50k_harness_middle&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">6</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;t50k_strap&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">7</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;squid_wh1_sl1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">8</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;squid_wh5_sl1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">9</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;squid_wh3_sl7&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">10</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;cal_filament&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">11</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;cal_ambient1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">12</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;cal_ambient2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">13</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;cal_ambient3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temps</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">14</span><span class="p">]</span>

    <span class="c1"># Heaters</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;heat_he4_pump&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">heaters</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;heat_ic_pump&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">heaters</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;heat_uc_pump&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">heaters</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">5</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;heat_he4_sw&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">heaters</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;heat_ic_sw&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">heaters</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;heat_uc_sw&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">heaters</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>

    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;CryoStatus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span>
    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;CryoStatusTime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;utc&#39;</span><span class="p">]</span></div>



<div class="viewcode-block" id="UnpackPTData">
<a class="viewcode-back" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackPTData">[docs]</a>
<span class="nd">@core</span><span class="o">.</span><span class="n">indexmod</span>
<span class="k">def</span> <span class="nf">UnpackPTData</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Extracts pulse tube status information to PTStatus key </span>
<span class="sd">    in frame&#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3FrameType</span><span class="o">.</span><span class="n">GcpSlow</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="s1">&#39;pt415&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;array&#39;</span><span class="p">]:</span>
        <span class="k">return</span>

    <span class="n">board</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;array&#39;</span><span class="p">][</span><span class="s1">&#39;pt415&#39;</span><span class="p">]</span>

    <span class="n">p</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3MapDouble</span><span class="p">()</span>

    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;optics_lowp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;pressure_low&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;min_optics_lowp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;min_pressure_low&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;max_optics_lowp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;max_pressure_low&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;optics_highp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;pressure_high&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;min_optics_highp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;min_pressure_high&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;max_optics_highp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;max_pressure_high&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;optics_tempoil&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;temp_oil&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;min_optics_tempoil&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;min_temp_oil&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;max_optics_tempoil&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;max_temp_oil&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;receiver_lowp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;pressure_low&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;min_receiver_lowp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;min_pressure_low&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;max_receiver_lowp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;max_pressure_low&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;receiver_highp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;pressure_high&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;min_receiver_highp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;min_pressure_high&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;max_receiver_highp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;max_pressure_high&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;receiver_tempoil&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;temp_oil&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;min_receiver_tempoil&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;min_temp_oil&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;max_receiver_tempoil&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;max_temp_oil&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;optics_is_valid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;deviceIsValid&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">p</span><span class="p">[</span><span class="s1">&#39;receiver_is_valid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;deviceIsValid&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;PTStatus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span>
    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;PTStatusTime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;utc&#39;</span><span class="p">]</span></div>



<div class="viewcode-block" id="UnpackMuxData">
<a class="viewcode-back" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackMuxData">[docs]</a>
<span class="nd">@core</span><span class="o">.</span><span class="n">indexmod</span>
<span class="k">def</span> <span class="nf">UnpackMuxData</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Add the DFMux data to the frame.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3FrameType</span><span class="o">.</span><span class="n">GcpSlow</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">mux</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;array&#39;</span><span class="p">][</span><span class="s1">&#39;muxHousekeeping&#39;</span><span class="p">]</span>
        <span class="n">boards</span> <span class="o">=</span> <span class="n">mux</span><span class="p">[</span><span class="s1">&#39;boardname&#39;</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">fpga_temp</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3MapDouble</span><span class="p">()</span>
    <span class="n">board_name</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3MapString</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">bn</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">boards</span><span class="p">):</span>
        <span class="n">bn</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">bn</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="c1"># get rid of extra quotes in board name</span>
        <span class="k">if</span> <span class="n">bn</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">board_name</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span> <span class="o">=</span> <span class="n">bn</span>
            <span class="n">fpga_temp</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span> <span class="o">=</span> <span class="n">mux</span><span class="p">[</span><span class="s1">&#39;MB_TEMPERATURE_FPGA_DIE&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;MuxFPGATemp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fpga_temp</span>
    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;MuxBoardName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board_name</span>
    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;MuxTime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mux</span><span class="p">[</span><span class="s1">&#39;utc&#39;</span><span class="p">]</span></div>



<div class="viewcode-block" id="UnpackWeatherData">
<a class="viewcode-back" href="../../../moddoc_gcp.html#spt3g.gcp.ARCExtractor.UnpackWeatherData">[docs]</a>
<span class="nd">@core</span><span class="o">.</span><span class="n">indexmod</span>
<span class="k">def</span> <span class="nf">UnpackWeatherData</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Extracts weather status information to Weather key </span>
<span class="sd">    in frame&#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3FrameType</span><span class="o">.</span><span class="n">GcpSlow</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="s1">&#39;weather&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;array&#39;</span><span class="p">]:</span>
        <span class="k">return</span>

    <span class="n">board</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;array&#39;</span><span class="p">][</span><span class="s1">&#39;weather&#39;</span><span class="p">]</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">G3MapDouble</span><span class="p">()</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;telescope_temp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;airTemperature&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;telescope_pressure&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;pressure&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;inside_dsl_temp&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;internalTemperature&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;wind_speed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;windSpeed&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;wind_direction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;windDirection&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;battery&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;battery&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;rel_humidity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;relativeHumidity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;power&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;power&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;tau&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;array&#39;</span><span class="p">][</span><span class="s1">&#39;tipper&#39;</span><span class="p">][</span><span class="s1">&#39;tau&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
    <span class="n">t</span><span class="p">[</span><span class="s1">&#39;tatm&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;array&#39;</span><span class="p">][</span><span class="s1">&#39;tipper&#39;</span><span class="p">][</span><span class="s1">&#39;tatm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>

    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;Weather&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span>
    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;WeatherTime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="s1">&#39;utc&#39;</span><span class="p">]</span>
    <span class="n">f</span><span class="p">[</span><span class="s1">&#39;TipperTime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;array&#39;</span><span class="p">][</span><span class="s1">&#39;tipper&#39;</span><span class="p">][</span><span class="s1">&#39;utc&#39;</span><span class="p">]</span></div>



<span class="nd">@core</span><span class="o">.</span><span class="n">pipesegment</span>
<span class="k">def</span> <span class="nf">ARCExtract</span><span class="p">(</span><span class="n">pipe</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;Extract GCP registers into native objects&#39;&#39;&#39;</span>
    <span class="n">pipe</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">CalibrateFrame</span><span class="p">)</span>
    <span class="n">pipe</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">UnpackACUData</span><span class="p">)</span>
    <span class="n">pipe</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">UnpackTrackerPointingData</span><span class="p">)</span>
    <span class="n">pipe</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">UpdateLinearSensorDeltas</span><span class="p">)</span>
    <span class="n">pipe</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">DecryptFeatureBit</span><span class="p">)</span>
    <span class="n">pipe</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">UnpackTrackerData</span><span class="p">)</span>
    <span class="n">pipe</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">AddBenchData</span><span class="p">)</span>
    <span class="n">pipe</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">UnpackCryoData</span><span class="p">)</span>
    <span class="n">pipe</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">UnpackPTData</span><span class="p">)</span>
    <span class="n">pipe</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">UnpackMuxData</span><span class="p">)</span>
    <span class="n">pipe</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">UnpackWeatherData</span><span class="p">)</span>


<span class="nd">@core</span><span class="o">.</span><span class="n">pipesegment</span>
<span class="k">def</span> <span class="nf">ARCExtractMinimal</span><span class="p">(</span><span class="n">pipe</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Extract bare minimum GCP registers into native objects.</span>

<span class="sd">    Includes only GCPFeatureBits, SourceName and ObservationID keys.</span>
<span class="sd">    Use ARCExtract to calibrate and extract the complete frame.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">pipe</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">DecryptFeatureBit</span><span class="p">)</span>
    <span class="n">pipe</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">UnpackTrackerMinimal</span><span class="p">)</span>

<span class="c1"># Need tool for tilt meter next</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-, SPT-3G Collaboration.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>