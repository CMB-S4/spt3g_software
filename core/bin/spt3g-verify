#!/usr/bin/env python

import argparse as ap
from spt3g import core

P = ap.ArgumentParser(
    description="Validate the internal checksums on one or more .g3 files"
)
P.add_argument("files", nargs="+", help="File(s) to verify", metavar="file")
args = P.parse_args()

for f in args.files:
    p = core.G3Pipeline()
    p.Add(core.G3Reader, filename=f)
    p.Run()
    print('File %s OK' % f)
