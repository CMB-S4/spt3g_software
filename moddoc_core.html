<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>core &#8212; SPT3G Software  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css?v=0f882399" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="dfmux" href="moddoc_dfmux.html" />
    <link rel="prev" title="calibration" href="moddoc_calibration.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="moddoc_dfmux.html" title="dfmux"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="moddoc_calibration.html" title="calibration"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">SPT3G Software  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">core</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="core">
<h1>core<a class="headerlink" href="#core" title="Link to this heading">¶</a></h1>
<p>The core directory includes infrastructural components of the software: file IO, python bindings, basic containers for plain data, the definition of G3Pipeline, etc.</p>
<section id="modules-in-spt3g-core">
<h2>Modules in spt3g.core<a class="headerlink" href="#modules-in-spt3g-core" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#spt3g-core-util-abortafternframes">spt3g.core.util.AbortAfterNFrames</a></p></li>
<li><p><a class="reference internal" href="#spt3g-core-util-deduplicatemetadata">spt3g.core.util.DeduplicateMetadata</a></p></li>
<li><p><a class="reference internal" href="#spt3g-core-util-delete">spt3g.core.util.Delete</a></p></li>
<li><p><a class="reference internal" href="#spt3g-core-util-droporphanmetadata">spt3g.core.util.DropOrphanMetadata</a></p></li>
<li><p><a class="reference internal" href="#spt3g-core-util-dump">spt3g.core.util.Dump</a></p></li>
<li><p><a class="reference internal" href="#spt3g-core-util-g3networkreceiver">spt3g.core.util.G3NetworkReceiver</a></p></li>
<li><p><a class="reference internal" href="#spt3g-core-util-g3throttlednetworksender">spt3g.core.util.G3ThrottledNetworkSender</a></p></li>
<li><p><a class="reference internal" href="#spt3g-core-util-injectdebug">spt3g.core.util.InjectDebug</a></p></li>
<li><p><a class="reference internal" href="#spt3g-core-util-injectframe">spt3g.core.util.InjectFrame</a></p></li>
<li><p><a class="reference internal" href="#spt3g-core-util-rename">spt3g.core.util.Rename</a></p></li>
</ul>
<p id="spt3g-core-util-abortafternframes"><strong>spt3g.core.util.AbortAfterNFrames</strong></p>
<p>Stops processing after n_frames frames go by</p>
<dl class="simple">
<dt><em>Constructor:</em></dt><dd><p><code class="docutils literal notranslate"><span class="pre">AbortAfterNFrames(self,</span> <span class="pre">type,</span> <span class="pre">n_frames)</span></code></p>
</dd>
</dl>
<p id="spt3g-core-util-deduplicatemetadata"><strong>spt3g.core.util.DeduplicateMetadata</strong></p>
<p>Drop metadata frames (e.g. Calibration, Wiring) for which the previous
metadata frame of the same type is byte-for-byte identical. This can be
handy when, for example, reading in many files from the G3MultiFileWriter,
which copies metadata frames to the beginning of each file. Considers
all frames not in &lt;dataframetypes&gt; to be metadata (by default, everything
except Timepoint and Scan frames).</p>
<dl class="simple">
<dt><em>Constructor:</em></dt><dd><p><code class="docutils literal notranslate"><span class="pre">DeduplicateMetadata(self,</span> <span class="pre">dataframetype=[spt3g._libcore.G3FrameType.Timepoint,</span> <span class="pre">spt3g._libcore.G3FrameType.Scan])</span></code></p>
</dd>
</dl>
<p id="spt3g-core-util-delete"><strong>spt3g.core.util.Delete</strong></p>
<p>Deletes specified keys from frame. If optional type specified, only acts on frames of the given type.</p>
<dl class="simple">
<dt><em>Definition:</em></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Delete(frame,</span> <span class="pre">keys=[],</span> <span class="pre">type=None)</span></code></p>
</dd>
</dl>
<p id="spt3g-core-util-droporphanmetadata"><strong>spt3g.core.util.DropOrphanMetadata</strong></p>
<p>Remove metadata frames (e.g. Calibration, Wiring) without
intervening data frames (e.g. Timepoint, Scan, specified by the
&lt;dataframetype&gt; argument to the constructor). The metadata frames that
do show up will be the most recent of each type and appear in their
original order.</p>
<dl class="simple">
<dt><em>Constructor:</em></dt><dd><p><code class="docutils literal notranslate"><span class="pre">DropOrphanMetadata(self,</span> <span class="pre">dataframetype=[spt3g._libcore.G3FrameType.Timepoint,</span> <span class="pre">spt3g._libcore.G3FrameType.Scan])</span></code></p>
</dd>
</dl>
<p id="spt3g-core-util-dump"><strong>spt3g.core.util.Dump</strong></p>
<p>Prints frames to console. If optional type specified, only acts on frames of the given type.</p>
<dl class="simple">
<dt><em>Definition:</em></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Dump(frame,</span> <span class="pre">type=None,</span> <span class="pre">added_message=None)</span></code></p>
</dd>
</dl>
<p id="spt3g-core-util-g3networkreceiver"><strong>spt3g.core.util.G3NetworkReceiver</strong></p>
<p>Emulation of old G3NetworkReceiver class. Equivalent to pointing
G3Reader at a TCP URL.</p>
<p><em>Equivalent to:</em></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pipe</span><span class="o">.</span><span class="n">Add</span><span class="p">(</span><span class="n">spt3g</span><span class="o">.</span><span class="n">_libcore</span><span class="o">.</span><span class="n">G3Reader</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;tcp://localhost:5978&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt><em>Definition:</em></dt><dd><p><code class="docutils literal notranslate"><span class="pre">G3NetworkReceiver(pipe,</span> <span class="pre">hostname='localhost',</span> <span class="pre">port=5978)</span></code></p>
</dd>
</dl>
<p id="spt3g-core-util-g3throttlednetworksender"><strong>spt3g.core.util.G3ThrottledNetworkSender</strong></p>
<p>Send every Nth frame of certain types using a wrapped G3NetworkSender.
All instances of frames not in the dictionary frame_decimation will be sent
at their full rate.</p>
<dl class="simple">
<dt><em>Constructor:</em></dt><dd><p><code class="docutils literal notranslate"><span class="pre">G3ThrottledNetworkSender(self,</span> <span class="pre">hostname='*',</span> <span class="pre">port=5978,</span> <span class="pre">frame_decimation={spt3g._libcore.G3FrameType.Timepoint:</span> <span class="pre">10},</span> <span class="pre">max_queue_size=0)</span></code></p>
</dd>
</dl>
<p id="spt3g-core-util-injectdebug"><strong>spt3g.core.util.InjectDebug</strong></p>
<p>starts a pdb session when a frame of type shows up.</p>
<p>The frame data is stored in the variable names “frame”.</p>
<dl class="simple">
<dt>If debug_start_func is not None, only starts a debug session when</dt><dd><p>debug_start_func(frame) == True</p>
</dd>
<dt><em>Definition:</em></dt><dd><p><code class="docutils literal notranslate"><span class="pre">InjectDebug(frame,</span> <span class="pre">type=None,</span> <span class="pre">debug_start_func=None)</span></code></p>
</dd>
</dl>
<p id="spt3g-core-util-injectframe"><strong>spt3g.core.util.InjectFrame</strong></p>
<p>Inject an arbitrary frame into a pipeline.</p>
<dl class="simple">
<dt><em>Arguments:</em></dt><dd><dl class="simple">
<dt>frame<span class="classifier">G3Frame</span></dt><dd><p>The frame to inject</p>
</dd>
</dl>
</dd>
<dt><em>Constructor:</em></dt><dd><p><code class="docutils literal notranslate"><span class="pre">InjectFrame(self,</span> <span class="pre">frame)</span></code></p>
</dd>
</dl>
<p id="spt3g-core-util-rename"><strong>spt3g.core.util.Rename</strong></p>
<p>Renames specified keys in frame. If optional type specified, only acts on frames of the given type. Argument is a dictionary mapping old names to new ones.</p>
<dl class="simple">
<dt><em>Definition:</em></dt><dd><p><code class="docutils literal notranslate"><span class="pre">Rename(frame,</span> <span class="pre">keys={},</span> <span class="pre">type=None)</span></code></p>
</dd>
</dl>
</section>
<section id="functions-in-spt3g-core">
<h2>Functions in spt3g.core<a class="headerlink" href="#functions-in-spt3g-core" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#spt3g-core-timestreamextensions-concatenate-timestreams">spt3g.core.timestreamextensions.concatenate_timestreams</a></p></li>
</ul>
<p id="spt3g-core-timestreamextensions-concatenate-timestreams"><strong>spt3g.core.timestreamextensions.concatenate_timestreams</strong></p>
<p>Concatenate G3Timestream or G3TimestreamMap objects together.</p>
<dl class="simple">
<dt><em>Arguments:</em></dt><dd><dl class="simple">
<dt>ts_lst<span class="classifier">list</span></dt><dd><p>list of G3Timestream or G3TimestreamMap objects.  Must all be
the same type.</p>
</dd>
<dt>ts_rounding_error<span class="classifier">float</span></dt><dd><p>allowed error in timestream separation such that timestreams are
contiguous, as a fraction of the sample rate. This should be
0 by default, but is 0.5 to allow for downsampler shifting,
and then bumpted again to 0.6 to allow for floating-point
errors in what 0.5 is.</p>
</dd>
<dt>ts_interp_threshold<span class="classifier">float</span></dt><dd><p>allowed timestream separation below which gaps between timestreams are
interpolated to be made continuous</p>
</dd>
</dl>
</dd>
<dt><em>Returns:</em></dt><dd><dl class="simple">
<dt>ts<span class="classifier">G3Timestream or G3TimestreamMap object</span></dt><dd><p>The concatenation of the input list of objects</p>
</dd>
</dl>
</dd>
<dt><em>Definition:</em></dt><dd><p><code class="docutils literal notranslate"><span class="pre">concatenate_timestreams(ts_lst,</span> <span class="pre">ts_rounding_error=0.6,</span> <span class="pre">ts_interp_threshold=0)</span></code></p>
</dd>
</dl>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">core</a><ul>
<li><a class="reference internal" href="#modules-in-spt3g-core">Modules in spt3g.core</a></li>
<li><a class="reference internal" href="#functions-in-spt3g-core">Functions in spt3g.core</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="moddoc_calibration.html"
                          title="previous chapter">calibration</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="moddoc_dfmux.html"
                          title="next chapter">dfmux</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/moddoc_core.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="moddoc_dfmux.html" title="dfmux"
             >next</a> |</li>
        <li class="right" >
          <a href="moddoc_calibration.html" title="calibration"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">SPT3G Software  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">core</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright .
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.0.2.
    </div>
  </body>
</html>